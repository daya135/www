<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>testCanvas</title>
        <script src="../js/ol.js"></script>
        <script src="../js/jquery-1.11.1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="../css/ol.css" />
    </head>

    <body>
        <div id="map" style="width: 100%; height:100%;">
            <!--<canvas id="myCanvas" width="200" height="100" style="border:1px solid #000000;"></canvas>-->
        </div>
        <script>
            let vLayer = new ol.layer.Vector({
                source: new ol.source.Vector({})
            });
            let map = new ol.Map({
                target: 'map',
                layers: [
                    new ol.layer.Tile({source: new ol.source.OSM()}),
                    vLayer
                ],
                view: new ol.View({
                    projection: ol.proj.get('EPSG:4326'),
                    center: [112, 40],
                    zoom: 4
                })
            });
            
            let lineCd = [[110, 40], [115, 40]];
            let style = new ol.style.Style({
                renderer: function (coor, state) {
                    let ctx = state.context;
                    let width = 20;
                    ctx.beginPath(); //必须加，否则会出现一些不明边框
                    ctx.lineWidth = 3;
                    ctx.moveTo(coor[0][0],coor[0][1]);
                    ctx.lineTo(coor[1][0],coor[1][1]);
                    ctx.stroke();
                    ctx.lineWidth = width;
                    ctx.beginPath();
                    ctx.strokeStyle = "rgba(255,0,0,0.5)";
                    ctx.moveTo(coor[0][0], coor[0][1] + 10);
                    ctx.lineTo(coor[1][0], coor[1][1] + 10);
                    ctx.stroke();
                }
            })
            let line = new ol.Feature(new ol.geom.LineString(lineCd));
            line.setStyle(style);
            vLayer.getSource().addFeature(line);
            
            console.log(map.getView().getResolutions());
            console.log(Math.sin(Math.PI / 2), Math.atan(111111111111111))
            
        </script>
    </body>

</html>